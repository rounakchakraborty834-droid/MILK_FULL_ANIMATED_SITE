(self.webpackChunkLib=self.webpackChunkLib||[]).push([[919],{201:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICacheRegistryKey=void 0,t.ICacheRegistryKey=Symbol.for("@amzn/exs-gem-interface/ICacheRegistryKey")},9683:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7685:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(201),t),o(r(7711),t),o(r(8815),t),o(r(9683),t)},7711:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ILogFactoryKey=void 0,t.ILogFactoryKey=Symbol.for("@amzn/exs-gem-interface/ILogFactory")},8815:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IMetricsFactoryKey=void 0,t.IMetricsFactoryKey=Symbol.for("@amzn/exs-gem-interface/IMetricsFactory")},1632:(e,t)=>{"use strict";t.tn=t.QI=t.GU=void 0,function(e){e.ALPHA="alpha",e.BETA="beta",e.GAMMA="gamma",e.PROD="prod"}(t.GU||(t.GU={})),function(e){e.VILA="vila",e.BWP="bwp"}(t.QI||(t.QI={})),function(e){e[e.Shiraz=0]="Shiraz",e[e.BlitzenUI=1]="BlitzenUI",e[e.Asgard=2]="Asgard",e[e.Saltiefish=3]="Saltiefish",e[e.GenieCrystalWidgets=4]="GenieCrystalWidgets",e[e.Pasa=5]="Pasa",e[e.Mandvi=6]="Mandvi",e[e.Koel=7]="Koel",e[e.Avocado=8]="Avocado",e[e.GenieShuriWidgets=9]="GenieShuriWidgets",e[e.Havana=10]="Havana",e[e.GenieNovaWidgets=11]="GenieNovaWidgets",e[e.BluetickWidget=12]="BluetickWidget",e[e.Lima=13]="Lima",e[e.Scoville=14]="Scoville",e[e.Doppio=15]="Doppio",e[e.Irtysh=16]="Irtysh",e[e.Soapbox=17]="Soapbox",e[e.Cortado=18]="Cortado",e[e.Mercurius=19]="Mercurius",e[e.RioLemon=20]="RioLemon",e[e.BWPWidget=21]="BWPWidget",e[e.BWPCart=22]="BWPCart",e[e.WonderlandWidgetCart=23]="WonderlandWidgetCart",e[e.SpicyMaple=24]="SpicyMaple",e[e.MoccaWidgets=25]="MoccaWidgets",e[e.NebulaHelix=26]="NebulaHelix",e[e.MoccaWidgetsGamma=27]="MoccaWidgetsGamma",e[e.PostOrderIngressGamma=28]="PostOrderIngressGamma",e[e.PostOrderIngress=29]="PostOrderIngress",e[e.NebulaHourglass=30]="NebulaHourglass",e[e.SantosOrderHistoryGamma=31]="SantosOrderHistoryGamma",e[e.SantosOrderHistory=32]="SantosOrderHistory",e[e.NebulaHelixGamma=33]="NebulaHelixGamma",e[e.RFAElementsGamma=34]="RFAElementsGamma",e[e.RFAElements=35]="RFAElements",e[e.SoloGamma=36]="SoloGamma",e[e.Solo=37]="Solo",e[e.NurburgElements=38]="NurburgElements",e[e.NurburgElementsGamma=39]="NurburgElementsGamma",e[e.BwPPromoElementGamma=40]="BwPPromoElementGamma",e[e.BwPPromoElement=41]="BwPPromoElement",e[e.SantosMercs=42]="SantosMercs",e[e.SantosMercsGamma=43]="SantosMercsGamma",e[e.SantosReturnsGamma=44]="SantosReturnsGamma",e[e.SantosReturns=45]="SantosReturns",e[e.SantosOMElementsGamma=46]="SantosOMElementsGamma",e[e.SantosOMElements=47]="SantosOMElements",e[e.SantosPostOrderHostGamma=48]="SantosPostOrderHostGamma",e[e.SantosPostOrderHost=49]="SantosPostOrderHost",e[e.GenieChatElementGamma=50]="GenieChatElementGamma",e[e.GenieChatElement=51]="GenieChatElement",e[e.AsgardCart=52]="AsgardCart",e[e.SantosOrderHistoryElementGamma=53]="SantosOrderHistoryElementGamma",e[e.SantosOrderHistoryElement=54]="SantosOrderHistoryElement",e[e.SantosTrackingElementGamma=55]="SantosTrackingElementGamma",e[e.SantosTrackingElement=56]="SantosTrackingElement",e[e.SignInElementGamma=57]="SignInElementGamma",e[e.SignInElement=58]="SignInElement",e[e.SantosRainierWidget=59]="SantosRainierWidget",e[e.SantosRainierWidgetGamma=60]="SantosRainierWidgetGamma",e[e.SantosNebulaRosetteGamma=61]="SantosNebulaRosetteGamma",e[e.SantosNebulaRosette=62]="SantosNebulaRosette",e[e.SantosLandourGamma=63]="SantosLandourGamma",e[e.SantosLandour=64]="SantosLandour",e[e.ShirazDemo=65]="ShirazDemo"}(t.tn||(t.tn={}))},9919:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CTI:()=>i.tn,StandardMetricTypes:()=>ve,Unit:()=>me,createExsLogger:()=>jt,createLogger:()=>At,createMetricScopeFactory:()=>Rt,createMetricsLogger:()=>Gt,emitCountMetric:()=>_t,emitLatencyMetric:()=>Et,emitPageLoadMetric:()=>Ot,emitStandardMetrics:()=>Pt,emitWebVitals:()=>Mt,enableLocalHostLogging:()=>Tt,getStandardMetricLogger:()=>Ee,queueError:()=>It,safeStringify:()=>ee});var n,o,i=r(1632);!function(e){e[e.Metric=0]="Metric",e[e.Log=1]="Log"}(n||(n={})),function(e){e[e.DEBUG=3]="DEBUG",e[e.ERROR=0]="ERROR",e[e.WARN=1]="WARN",e[e.INFO=2]="INFO"}(o||(o={}));var a=Uint8Array,s=Uint16Array,c=Uint32Array,u=new a([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),l=new a([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),f=new a([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),g=function(e,t){for(var r=new s(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var o=new c(r[30]);for(n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)o[i]=i-r[n]<<5|n;return[r,o]},d=g(u,2),p=d[0],m=d[1];p[28]=258,m[258]=28;for(var h=g(l,0),v=(h[0],h[1]),y=new s(32768),b=0;b<32768;++b){var L=(43690&b)>>>1|(21845&b)<<1;L=(61680&(L=(52428&L)>>>2|(13107&L)<<2))>>>4|(3855&L)<<4,y[b]=((65280&L)>>>8|(255&L)<<8)>>>1}var w=function(e,t,r){for(var n=e.length,o=0,i=new s(t);o<n;++o)e[o]&&++i[e[o]-1];var a,c=new s(t);for(o=0;o<t;++o)c[o]=c[o-1]+i[o-1]<<1;if(r){a=new s(1<<t);var u=15-t;for(o=0;o<n;++o)if(e[o])for(var l=o<<4|e[o],f=t-e[o],g=c[e[o]-1]++<<f,d=g|(1<<f)-1;g<=d;++g)a[y[g]>>>u]=l}else for(a=new s(n),o=0;o<n;++o)e[o]&&(a[o]=y[c[e[o]-1]++]>>>15-e[o]);return a},S=new a(288);for(b=0;b<144;++b)S[b]=8;for(b=144;b<256;++b)S[b]=9;for(b=256;b<280;++b)S[b]=7;for(b=280;b<288;++b)S[b]=8;var E=new a(32);for(b=0;b<32;++b)E[b]=5;var _=w(S,9,0),O=w(E,5,0),M=function(e){return(e+7)/8|0},C=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(2==e.BYTES_PER_ELEMENT?s:4==e.BYTES_PER_ELEMENT?c:a)(r-t);return n.set(e.subarray(t,r)),n},P=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8},T=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},j=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var o=r.length,i=r.slice();if(!o)return[N,0];if(1==o){var c=new a(r[0].s+1);return c[r[0].s]=1,[c,1]}r.sort((function(e,t){return e.f-t.f})),r.push({s:-1,f:25001});var u=r[0],l=r[1],f=0,g=1,d=2;for(r[0]={s:-1,f:u.f+l.f,l:u,r:l};g!=o-1;)u=r[r[f].f<r[d].f?f++:d++],l=r[f!=g&&r[f].f<r[d].f?f++:d++],r[g++]={s:-1,f:u.f+l.f,l:u,r:l};var p=i[0].s;for(n=1;n<o;++n)i[n].s>p&&(p=i[n].s);var m=new s(p+1),h=R(r[g-1],m,0);if(h>t){n=0;var v=0,y=h-t,b=1<<y;for(i.sort((function(e,t){return m[t.s]-m[e.s]||e.f-t.f}));n<o;++n){var L=i[n].s;if(!(m[L]>t))break;v+=b-(1<<h-m[L]),m[L]=t}for(v>>>=y;v>0;){var w=i[n].s;m[w]<t?v-=1<<t-m[w]++-1:++n}for(;n>=0&&v;--n){var S=i[n].s;m[S]==t&&(--m[S],++v)}h=t}return[new a(m),h]},R=function(e,t,r){return-1==e.s?Math.max(R(e.l,t,r+1),R(e.r,t,r+1)):t[e.s]=r},A=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new s(++t),n=0,o=e[0],i=1,a=function(e){r[n++]=e},c=1;c<=t;++c)if(e[c]==o&&c!=t)++i;else{if(!o&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(o),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(o);i=1,o=e[c]}return[r.subarray(0,n),t]},G=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},I=function(e,t,r){var n=r.length,o=M(t+2);e[o]=255&n,e[o+1]=n>>>8,e[o+2]=255^e[o],e[o+3]=255^e[o+1];for(var i=0;i<n;++i)e[o+i+4]=r[i];return 8*(o+4+n)},F=function(e,t,r,n,o,i,a,c,g,d,p){P(t,p++,r),++o[256];for(var m=j(o,15),h=m[0],v=m[1],y=j(i,15),b=y[0],L=y[1],M=A(h),C=M[0],R=M[1],F=A(b),B=F[0],N=F[1],x=new s(19),D=0;D<C.length;++D)x[31&C[D]]++;for(D=0;D<B.length;++D)x[31&B[D]]++;for(var H=j(x,7),W=H[0],k=H[1],q=19;q>4&&!W[f[q-1]];--q);var U,z,J,K,$=d+5<<3,V=G(o,S)+G(i,E)+a,Y=G(o,h)+G(i,b)+a+14+3*q+G(x,W)+(2*x[16]+3*x[17]+7*x[18]);if($<=V&&$<=Y)return I(t,p,e.subarray(g,g+d));if(P(t,p,1+(Y<V)),p+=2,Y<V){U=w(h,v,0),z=h,J=w(b,L,0),K=b;var Q=w(W,k,0);P(t,p,R-257),P(t,p+5,N-1),P(t,p+10,q-4),p+=14;for(D=0;D<q;++D)P(t,p+3*D,W[f[D]]);p+=3*q;for(var X=[C,B],Z=0;Z<2;++Z){var ee=X[Z];for(D=0;D<ee.length;++D){var te=31&ee[D];P(t,p,Q[te]),p+=W[te],te>15&&(P(t,p,ee[D]>>>5&127),p+=ee[D]>>>12)}}}else U=_,z=S,J=O,K=E;for(D=0;D<c;++D)if(n[D]>255){te=n[D]>>>18&31;T(t,p,U[te+257]),p+=z[te+257],te>7&&(P(t,p,n[D]>>>23&31),p+=u[te]);var re=31&n[D];T(t,p,J[re]),p+=K[re],re>3&&(T(t,p,n[D]>>>5&8191),p+=l[re])}else T(t,p,U[n[D]]),p+=z[n[D]];return T(t,p,U[256]),p+z[256]},B=new c([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),N=new a(0),x=function(e,t,r,n,o,i){var f=e.length,g=new a(n+f+5*(1+Math.ceil(f/7e3))+o),d=g.subarray(n,g.length-o),p=0;if(!t||f<8)for(var h=0;h<=f;h+=65535){var y=h+65535;y>=f&&(d[p>>3]=i),p=I(d,p+1,e.subarray(h,y))}else{for(var b=B[t-1],L=b>>>13,w=8191&b,S=(1<<r)-1,E=new s(32768),_=new s(S+1),O=Math.ceil(r/3),P=2*O,T=function(t){return(e[t]^e[t+1]<<O^e[t+2]<<P)&S},j=new c(25e3),R=new s(288),A=new s(32),G=0,x=0,D=(h=0,0),H=0,W=0;h<f;++h){var k=T(h),q=32767&h,U=_[k];if(E[q]=U,_[k]=q,H<=h){var z=f-h;if((G>7e3||D>24576)&&z>423){p=F(e,d,0,j,R,A,x,D,W,h-W,p),D=G=x=0,W=h;for(var J=0;J<286;++J)R[J]=0;for(J=0;J<30;++J)A[J]=0}var K=2,$=0,V=w,Y=q-U&32767;if(z>2&&k==T(h-Y))for(var Q=Math.min(L,z)-1,X=Math.min(32767,h),Z=Math.min(258,z);Y<=X&&--V&&q!=U;){if(e[h+K]==e[h+K-Y]){for(var ee=0;ee<Z&&e[h+ee]==e[h+ee-Y];++ee);if(ee>K){if(K=ee,$=Y,ee>Q)break;var te=Math.min(Y,ee-2),re=0;for(J=0;J<te;++J){var ne=h-Y+J+32768&32767,oe=ne-E[ne]+32768&32767;oe>re&&(re=oe,U=ne)}}}Y+=(q=U)-(U=E[q])+32768&32767}if($){j[D++]=268435456|m[K]<<18|v[$];var ie=31&m[K],ae=31&v[$];x+=u[ie]+l[ae],++R[257+ie],++A[ae],H=h+K,++G}else j[D++]=e[h],++R[e[h]]}}p=F(e,d,i,j,R,A,x,D,W,h-W,p),!i&&7&p&&(p=I(d,p+1,N))}return C(g,0,n+M(p)+o)},D=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&-306674912)^r>>>1;e[t]=r}return e}(),H=function(){var e=-1;return{p:function(t){for(var r=e,n=0;n<t.length;++n)r=D[255&r^t[n]]^r>>>8;e=r},d:function(){return~e}}},W=function(e,t,r,n,o){return x(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!o)},k=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},q=function(e,t){var r=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&k(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),r){e[3]=8;for(var n=0;n<=r.length;++n)e[n+10]=r.charCodeAt(n)}},U=function(e){return 10+(e.filename&&e.filename.length+1||0)};function z(e,t){t||(t={});var r=H(),n=e.length;r.p(e);var o=W(e,t,U(t),8),i=o.length;return q(o,t),k(o,i-8,r.d()),k(o,i-4,n),o}var J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(N,{stream:!0}),1}catch(_e){}function $(e,t){if(t){for(var r=new a(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}if(J)return J.encode(e);var o=e.length,i=new a(e.length+(e.length>>1)),s=0,c=function(e){i[s++]=e};for(n=0;n<o;++n){if(s+5>i.length){var u=new a(s+8+(o-n<<1));u.set(i),i=u}var l=e.charCodeAt(n);l<128||t?c(l):l<2048?(c(192|l>>6),c(128|63&l)):l>55295&&l<57344?(c(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++n))>>18),c(128|l>>12&63),c(128|l>>6&63),c(128|63&l)):(c(224|l>>12),c(128|l>>6&63),c(128|63&l))}return C(i,0,s)}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var V=r(4445),Y=r.n(V);const Q=8192;function X(e){return z($(JSON.stringify({logEvents:e}))).length}function Z(e){return X("string"==typeof e?[{type:n.Log,message:e,timestamp:Date.now()}]:e)>=Q}function ee(e){function t(e,t){if(t instanceof Error){const e={};return Object.getOwnPropertyNames(t).forEach((r=>{e[r]=t[r]})),e}return t}try{return JSON.stringify(e,t)}catch(r){return Y()(e,t)}}function te({error:e,message:t}){return ee({level:o.ERROR,error:e,message:t,namespace:i.tn.Shiraz})}function re(e,t){if(e>t)throw Error(`min ${e} is larger than max ${t}`);return Math.floor(Math.random()*(t-e))+e}class ne{items;constructor(){this.items=[]}getAll(){return this.items}setAll(e){this.items=e}clearAll(){this.items.length=0}push(e){this.items.push(e)}pop(){return this.items.pop()}shift(){return this.items.shift()}unshift(e){this.items.unshift(e)}size(){return this.items.length}at(e){return this.items[e]}}const oe=class{static init(){return new ne}},ie="order.buywithprime.amazon.com";const ae=["localhost","127.0.0.1"];var se=r(5108);const ce=(ue=window.location.hostname).endsWith("tk.dubai.aws.dev")||ue===ie?"/log":"https://order.buywithprime.amazon.com/log";var ue;const le=oe.init();class fe{static isFirstLog=!0;static logEvents=le;static localhostLoggingEnabled=!1;static enableLocalHostLogging(){fe.localhostLoggingEnabled=!0}static getLogEventCount(){return fe.logEvents.size()}static async ingestLog(e,t){try{const r=function(e){const t=ee(e)||"";return Z(t)?null:t}(e);if(null===r)return void fe.logEvents.push({type:n.Log,message:te({message:"message size too big"}),timestamp:Date.now()});fe.logEvents.push({type:t,message:r,timestamp:Date.now()});const o=X(fe.logEvents.getAll());o>5e4&&(fe.logEvents.clearAll(),fe.logEvents.push({type:n.Log,message:te({message:`cleared logEvents as it is too large at ${o} bytes`}),timestamp:Date.now()}))}catch(e){fe.logEvents.push({type:n.Log,message:te({error:e,message:"ingestLog failed"}),timestamp:Date.now()})}}static async sendLogs(e,t=!0){if(ae.includes(window.location.hostname)&&!fe.localhostLoggingEnabled)return;if(0===e||0===fe.logEvents.size())return;const r=fe.logEvents.getAll(),n=[r.shift()];for(;r.length>0&&n.length<200&&!Z(n.concat(r[0]));)n.push(r.shift());fe.logEvents.setAll(r);const o={logEvents:n},i=z($(JSON.stringify(o)));if(fe.isFirstLog||!navigator||"function"!=typeof navigator.sendBeacon){fe.isFirstLog||se.warn("navigator.sendBeacon is missing"),fe.isFirstLog=!1;try{const e=await fetch(ce,{method:"POST",headers:{"Content-Type":"application/octet-stream"},body:i});if(!e)return void fe.queueError(new Error,"Failed to POST with fetch");if(!e.ok)return void await e.json().then((e=>fe.queueError(e,"Failed to POST with fetch")))}catch(e){fe.queueError(e,"Failed to POST with fetch")}await fe.sendLogs(e-n.length)}else{navigator.sendBeacon(ce,i)?(t&&await new Promise((e=>setTimeout((()=>e()),re(1e3,2e3)))),await fe.sendLogs(e-n.length)):fe.queueError(Error(),"Failed to send beacon")}}static queueError(e,t){fe.logEvents.push({type:n.Log,message:te({error:e,message:t}),timestamp:Date.now()})}}class ge{static createLogger(e){return new ge(e)}cti;constructor(e){this.cti=e}log(e){return fe.ingestLog({level:o.INFO,message:e,cti:this.cti},n.Log)}warn(e){return fe.ingestLog({level:o.WARN,message:e,cti:this.cti},n.Log)}error(e){return fe.ingestLog({level:o.ERROR,error:e,cti:this.cti},n.Log)}}class de{static createMetricsLogger(e){return new de(e)}cti;eventHolder=[];constructor(e){this.cti=e,this.eventHolder.push({0:this.cti})}async flush(){this.eventHolder.length<2||(await fe.ingestLog([...this.eventHolder],n.Metric),this.eventHolder.length=0,this.eventHolder.push({0:this.cti}))}setNamespace(){throw new Error("Cannot set Namespace, namespace is configure via the CTI in the constructor")}setProperty(e,t){return this.eventHolder.push({1:[e,t]}),this}putDimensions(e){return this.eventHolder.push({2:e}),this}setDimensions(...e){return this.eventHolder.push({3:e}),this}putMetric(e,t,r){return this.eventHolder.push({4:[e,t,r]}),this}setTimestamp(e){return this.eventHolder.push({5:"number"==typeof e?e:e.getTime()}),this}new(){return new de(this.cti)}}class pe{static createMetricScopeFactory(e){return new pe(e)}cti;constructor(e){this.cti=e}metricScope(e){const{cti:t}=this;return async function(...r){const n=de.createMetricsLogger(t);try{return await e(n)(...r)}finally{try{await n.flush()}catch(e){fe.queueError(e,"Failed to flush metrics")}}}}}var me,he;!function(e){e.Seconds="Seconds",e.Microseconds="Microseconds",e.Milliseconds="Milliseconds",e.Bytes="Bytes",e.Kilobytes="Kilobytes",e.Megabytes="Megabytes",e.Gigabytes="Gigabytes",e.Terabytes="Terabytes",e.Bits="Bits",e.Kilobits="Kilobits",e.Megabits="Megabits",e.Gigabits="Gigabits",e.Terabits="Terabits",e.Percent="Percent",e.Count="Count",e.BytesPerSecond="Bytes/Second",e.KilobytesPerSecond="Kilobytes/Second",e.MegabytesPerSecond="Megabytes/Second",e.GigabytesPerSecond="Gigabytes/Second",e.TerabytesPerSecond="Terabytes/Second",e.BitsPerSecond="Bits/Second",e.KilobitsPerSecond="Kilobits/Second",e.MegabitsPerSecond="Megabits/Second",e.GigabitsPerSecond="Gigabits/Second",e.TerabitsPerSecond="Terabits/Second",e.CountPerSecond="Count/Second",e.None="None"}(me||(me={})),function(e){e.CumulativeLayoutShift="CumulativeLayoutShift",e.LargestContentfulPaint="LargestContentfulPaint",e.FirstInputDelay="FirstInputDelay",e.InteractionToNextPaint="InteractionToNextPaint",e.FirstContentfulPaint="FirstContentfulPaint",e.TimeToFirstByte="TimeToFirstByte",e.RequestCount="RequestCount",e.RequestStatus="RequestStatus",e.RequestLatency="RequestLatency",e.RequestError="RequestError",e.TemplateRequestCount="TemplateRequestCount",e.TemplateRequestStatus="TemplateRequestStatus",e.TemplateRequestLatency="TemplateRequestLatency",e.TemplateRequestError="TemplateRequestError",e.LoadCount="LoadCount",e.LoadError="LoadError",e.LoadLatency="LoadLatency",e.RenderCount="RenderCount",e.RenderError="RenderError",e.RenderLatency="RenderLatency",e.InteractionCount="InteractionCount",e.InteractionError="InteractionError",e.InteractionLatency="InteractionLatency",e.ImpressionCount="ImpressionCount",e.ImpressionError="ImpressionError",e.ImpressionLatency="ImpressionLatency",e.JSCallCount="JSCallCount",e.JSCallError="JSCallError"}(he||(he={}));const ve=he;async function ye(){try{await fe.sendLogs(fe.getLogEventCount())}finally{setTimeout(ye,re(1e4,12500))}}var be=r(9088),Le=r(5108);const we={debug:o.DEBUG,info:o.INFO,warn:o.WARN,error:o.ERROR,DEBUG:o.DEBUG,INFO:o.INFO,WARN:o.WARN,ERROR:o.ERROR};class Se{cti;constructor(e){this.cti=e,this.cti=e}write(e,t){const{message:r,logger:i,level:a,...s}=t.format(e),c=we[e.level],u=c===o.ERROR?"error":"message",l={level:c,[u]:Object.keys(s).length>0?{[u]:r,...s}:r,cti:this.cti};c!==o.DEBUG?fe.ingestLog(l,n.Log).catch(Le.error):Le.debug(r)}}const Ee=e=>{const t="undefined"==typeof window?{}:window.storefront,r=t?.createMetricScopeFactory||pe.createMetricScopeFactory,n=t?.queueError||fe.queueError,o=r(e);return async(e,t,r)=>{const i=o.metricScope((n=>async()=>{if(r){if(r.Dimensions){const e=Array.isArray(r.Dimensions)?r.Dimensions:[r.Dimensions];n.setDimensions(...e)}r.Properties&&Object.entries(r.Properties).forEach((([e,t])=>{n.setProperty(e,t)}))}n.setTimestamp(Date.now()),r?.Units?n.putMetric(e,t,r.Units):n.putMetric(e,t)}));try{await i()}catch(t){await n(t,`Failed to push ${e} standard metric with config: ${ee(r)}`)}}};var _e,Oe,Me,Ce,Pe,Te=-1,je=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Te=t.timeStamp,e(t))}),!0)},Re=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},Ae=function(){var e=Re();return e&&e.activationStart||0},Ge=function(e,t){var r=Re(),n="navigate";return Te>=0?n="back-forward-cache":r&&(document.prerendering||Ae()>0?n="prerender":document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:n}},Ie=function(e,t,r){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return n.observe(Object.assign({type:e,buffered:!0},r||{})),n}}catch(e){}},Fe=function(e,t,r,n){var o,i;return function(a){t.value>=0&&(a||n)&&((i=t.value-(o||0))||void 0===o)&&(o=t.value,t.delta=i,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,r),e(t))}},Be=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},Ne=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},xe=function(e){var t=!1;return function(r){t||(e(r),t=!0)}},De=-1,He=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},We=function(e){"hidden"===document.visibilityState&&De>-1&&(De="visibilitychange"===e.type?e.timeStamp:0,qe())},ke=function(){addEventListener("visibilitychange",We,!0),addEventListener("prerenderingchange",We,!0)},qe=function(){removeEventListener("visibilitychange",We,!0),removeEventListener("prerenderingchange",We,!0)},Ue=function(){return De<0&&(De=He(),ke(),je((function(){setTimeout((function(){De=He(),ke()}),0)}))),{get firstHiddenTime(){return De}}},ze=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},Je=[1800,3e3],Ke=function(e,t){t=t||{},ze((function(){var r,n=Ue(),o=Ge("FCP"),i=Ie("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<n.firstHiddenTime&&(o.value=Math.max(e.startTime-Ae(),0),o.entries.push(e),r(!0)))}))}));i&&(r=Fe(e,o,Je,t.reportAllChanges),je((function(n){o=Ge("FCP"),r=Fe(e,o,Je,t.reportAllChanges),Be((function(){o.value=performance.now()-n.timeStamp,r(!0)}))})))}))},$e=[.1,.25],Ve=function(e,t){t=t||{},Ke(xe((function(){var r,n=Ge("CLS",0),o=0,i=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=i[0],r=i[i.length-1];o&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,i.push(e)):(o=e.value,i=[e])}})),o>n.value&&(n.value=o,n.entries=i,r())},s=Ie("layout-shift",a);s&&(r=Fe(e,n,$e,t.reportAllChanges),Ne((function(){a(s.takeRecords()),r(!0)})),je((function(){o=0,n=Ge("CLS",0),r=Fe(e,n,$e,t.reportAllChanges),Be((function(){return r()}))})),setTimeout(r,0))})))},Ye={passive:!0,capture:!0},Qe=new Date,Xe=function(e,t){_e||(_e=t,Oe=e,Me=new Date,tt(removeEventListener),Ze())},Ze=function(){if(Oe>=0&&Oe<Me-Qe){var e={entryType:"first-input",name:_e.type,target:_e.target,cancelable:_e.cancelable,startTime:_e.timeStamp,processingStart:_e.timeStamp+Oe};Ce.forEach((function(t){t(e)})),Ce=[]}},et=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var r=function(){Xe(e,t),o()},n=function(){o()},o=function(){removeEventListener("pointerup",r,Ye),removeEventListener("pointercancel",n,Ye)};addEventListener("pointerup",r,Ye),addEventListener("pointercancel",n,Ye)}(t,e):Xe(t,e)}},tt=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,et,Ye)}))},rt=[100,300],nt=function(e,t){t=t||{},ze((function(){var r,n=Ue(),o=Ge("FID"),i=function(e){e.startTime<n.firstHiddenTime&&(o.value=e.processingStart-e.startTime,o.entries.push(e),r(!0))},a=function(e){e.forEach(i)},s=Ie("first-input",a);r=Fe(e,o,rt,t.reportAllChanges),s&&Ne(xe((function(){a(s.takeRecords()),s.disconnect()}))),s&&je((function(){var n;o=Ge("FID"),r=Fe(e,o,rt,t.reportAllChanges),Ce=[],Oe=-1,_e=null,tt(addEventListener),n=i,Ce.push(n),Ze()}))}))},ot=0,it=1/0,at=0,st=function(e){e.forEach((function(e){e.interactionId&&(it=Math.min(it,e.interactionId),at=Math.max(at,e.interactionId),ot=at?(at-it)/7+1:0)}))},ct=function(){return Pe?ot:performance.interactionCount||0},ut=function(){"interactionCount"in performance||Pe||(Pe=Ie("event",st,{type:"event",buffered:!0,durationThreshold:0}))},lt=[200,500],ft=0,gt=function(){return ct()-ft},dt=[],pt={},mt=function(e){var t=dt[dt.length-1],r=pt[e.interactionId];if(r||dt.length<10||e.duration>t.latency){if(r)r.entries.push(e),r.latency=Math.max(r.latency,e.duration);else{var n={id:e.interactionId,latency:e.duration,entries:[e]};pt[n.id]=n,dt.push(n)}dt.sort((function(e,t){return t.latency-e.latency})),dt.splice(10).forEach((function(e){delete pt[e.id]}))}},ht=function(e,t){t=t||{},ze((function(){var r;ut();var n,o=Ge("INP"),i=function(e){e.forEach((function(e){e.interactionId&&mt(e),"first-input"===e.entryType&&!dt.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&mt(e)}));var t,r=(t=Math.min(dt.length-1,Math.floor(gt()/50)),dt[t]);r&&r.latency!==o.value&&(o.value=r.latency,o.entries=r.entries,n())},a=Ie("event",i,{durationThreshold:null!==(r=t.durationThreshold)&&void 0!==r?r:40});n=Fe(e,o,lt,t.reportAllChanges),a&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&a.observe({type:"first-input",buffered:!0}),Ne((function(){i(a.takeRecords()),o.value<0&&gt()>0&&(o.value=0,o.entries=[]),n(!0)})),je((function(){dt=[],ft=ct(),o=Ge("INP"),n=Fe(e,o,lt,t.reportAllChanges)})))}))},vt=[2500,4e3],yt={},bt=function(e,t){t=t||{},ze((function(){var r,n=Ue(),o=Ge("LCP"),i=function(e){var t=e[e.length-1];t&&t.startTime<n.firstHiddenTime&&(o.value=Math.max(t.startTime-Ae(),0),o.entries=[t],r())},a=Ie("largest-contentful-paint",i);if(a){r=Fe(e,o,vt,t.reportAllChanges);var s=xe((function(){yt[o.id]||(i(a.takeRecords()),a.disconnect(),yt[o.id]=!0,r(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return setTimeout(s,0)}),!0)})),Ne(s),je((function(n){o=Ge("LCP"),r=Fe(e,o,vt,t.reportAllChanges),Be((function(){o.value=performance.now()-n.timeStamp,yt[o.id]=!0,r(!0)}))}))}}))},Lt=[800,1800],wt=function e(t){document.prerendering?ze((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},St=function(e,t){t=t||{};var r=Ge("TTFB"),n=Fe(e,r,Lt,t.reportAllChanges);wt((function(){var o=Re();if(o){var i=o.responseStart;if(i<=0||i>performance.now())return;r.value=Math.max(i-Ae(),0),r.entries=[o],n(!0),je((function(){r=Ge("TTFB",0),(n=Fe(e,r,Lt,t.reportAllChanges))(!0)}))}}))};function Et(e,t,r,n){return e(t,r,{...n,Units:n?.Units??me.Milliseconds})}function _t(e,t,r,n){return e(t,r??1,{Units:me.Count,...n})}async function Ot(e,t){return _t(e,ve.LoadCount,1,t)}function Mt(e,t){const r=r=>n=>Et(e,r,n.value,t);Ve(r(ve.CumulativeLayoutShift)),Ke(r(ve.FirstContentfulPaint)),nt(r(ve.FirstInputDelay)),ht(r(ve.InteractionToNextPaint)),bt(r(ve.LargestContentfulPaint)),St(r(ve.TimeToFirstByte))}const Ct={emitPageLoad:!0,emitWebVitals:!0};async function Pt(e,t){const r={...Ct,...t},n={Dimensions:r.dimensions,Properties:r.properties};r.emitPageLoad&&Ot(e,n),r.emitWebVitals&&Mt(e,n)}const{enableLocalHostLogging:Tt}=fe,jt=class{static createLogger(e,t){return(0,be.createLogManager)(void 0,t,{transport:new Se(e)})}}.createLogger;window.storefront=window.storefront||{},window.storefront.createMetricScopeFactory&&window.storefront.createLogger&&window.storefront.createMetricsLogger||function(){let e,t=!1;function r(){t||(t=!0,ye())}function n(){clearTimeout(e),"requestIdleCallback"in window?window.requestIdleCallback(r,{timeout:re(5e3,7500)}):setTimeout(r,50)}"complete"===document.readyState?n():(e=setTimeout(n,re(5e3,7500)),window.addEventListener("load",n,{once:!0,passive:!0}));let o=!1;async function i(){o||(o=!0,await fe.sendLogs(fe.getLogEventCount(),!1))}document.addEventListener("visibilitychange",(async()=>{"hidden"===document.visibilityState&&await i()})),window.addEventListener("pagehide",i,!1)}(),window.storefront.createMetricScopeFactory=window.storefront.createMetricScopeFactory||pe.createMetricScopeFactory,window.storefront.createLogger=window.storefront.createLogger||ge.createLogger,window.storefront.createMetricsLogger=window.storefront.createMetricsLogger||de.createMetricsLogger,window.storefront.queueError=window.storefront.queueError||fe.queueError;const{createMetricScopeFactory:Rt,createLogger:At,createMetricsLogger:Gt,queueError:It}=window.storefront},4445:e=>{e.exports=a,a.default=a,a.stable=l,a.stableStringify=l;var t="[...]",r="[Circular]",n=[],o=[];function i(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function a(e,t,r,a){var s;void 0===a&&(a=i()),c(e,"",0,[],void 0,0,a);try{s=0===o.length?JSON.stringify(e,t,r):JSON.stringify(e,g(t),r)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==n.length;){var u=n.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return s}function s(e,t,r,i){var a=Object.getOwnPropertyDescriptor(i,r);void 0!==a.get?a.configurable?(Object.defineProperty(i,r,{value:e}),n.push([i,r,t,a])):o.push([t,r,e]):(i[r]=e,n.push([i,r,t]))}function c(e,n,o,i,a,u,l){var f;if(u+=1,"object"==typeof e&&null!==e){for(f=0;f<i.length;f++)if(i[f]===e)return void s(r,e,n,a);if(void 0!==l.depthLimit&&u>l.depthLimit)return void s(t,e,n,a);if(void 0!==l.edgesLimit&&o+1>l.edgesLimit)return void s(t,e,n,a);if(i.push(e),Array.isArray(e))for(f=0;f<e.length;f++)c(e[f],f,f,i,e,u,l);else{var g=Object.keys(e);for(f=0;f<g.length;f++){var d=g[f];c(e[d],d,f,i,e,u,l)}}i.pop()}}function u(e,t){return e<t?-1:e>t?1:0}function l(e,t,r,a){void 0===a&&(a=i());var s,c=f(e,"",0,[],void 0,0,a)||e;try{s=0===o.length?JSON.stringify(c,t,r):JSON.stringify(c,g(t),r)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==n.length;){var u=n.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return s}function f(e,o,i,a,c,l,g){var d;if(l+=1,"object"==typeof e&&null!==e){for(d=0;d<a.length;d++)if(a[d]===e)return void s(r,e,o,c);try{if("function"==typeof e.toJSON)return}catch(e){return}if(void 0!==g.depthLimit&&l>g.depthLimit)return void s(t,e,o,c);if(void 0!==g.edgesLimit&&i+1>g.edgesLimit)return void s(t,e,o,c);if(a.push(e),Array.isArray(e))for(d=0;d<e.length;d++)f(e[d],d,d,a,e,l,g);else{var p={},m=Object.keys(e).sort(u);for(d=0;d<m.length;d++){var h=m[d];f(e[h],h,d,a,e,l,g),p[h]=e[h]}if(void 0===c)return p;n.push([c,o,e]),c[o]=p}a.pop()}}function g(e){return e=void 0!==e?e:function(e,t){return t},function(t,r){if(o.length>0)for(var n=0;n<o.length;n++){var i=o[n];if(i[1]===t&&i[0]===r){r=i[2],o.splice(n,1);break}}return e.call(this,t,r)}}},3465:(e,t,r)=>{e=r.nmd(e);var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Boolean]",s="[object Date]",c="[object Function]",u="[object GeneratorFunction]",l="[object Map]",f="[object Number]",g="[object Object]",d="[object Promise]",p="[object RegExp]",m="[object Set]",h="[object String]",v="[object Symbol]",y="[object WeakMap]",b="[object ArrayBuffer]",L="[object DataView]",w="[object Float32Array]",S="[object Float64Array]",E="[object Int8Array]",_="[object Int16Array]",O="[object Int32Array]",M="[object Uint8Array]",C="[object Uint8ClampedArray]",P="[object Uint16Array]",T="[object Uint32Array]",j=/\w*$/,R=/^\[object .+?Constructor\]$/,A=/^(?:0|[1-9]\d*)$/,G={};G[i]=G["[object Array]"]=G[b]=G[L]=G[a]=G[s]=G[w]=G[S]=G[E]=G[_]=G[O]=G[l]=G[f]=G[g]=G[p]=G[m]=G[h]=G[v]=G[M]=G[C]=G[P]=G[T]=!0,G["[object Error]"]=G[c]=G[y]=!1;var I="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,F="object"==typeof self&&self&&self.Object===Object&&self,B=I||F||Function("return this")(),N=t&&!t.nodeType&&t,x=N&&e&&!e.nodeType&&e,D=x&&x.exports===N;function H(e,t){return e.set(t[0],t[1]),e}function W(e,t){return e.add(t),e}function k(e,t,r,n){var o=-1,i=e?e.length:0;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}function q(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function U(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function z(e,t){return function(r){return e(t(r))}}function J(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var K,$=Array.prototype,V=Function.prototype,Y=Object.prototype,Q=B["__core-js_shared__"],X=(K=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+K:"",Z=V.toString,ee=Y.hasOwnProperty,te=Y.toString,re=RegExp("^"+Z.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=D?B.Buffer:void 0,oe=B.Symbol,ie=B.Uint8Array,ae=z(Object.getPrototypeOf,Object),se=Object.create,ce=Y.propertyIsEnumerable,ue=$.splice,le=Object.getOwnPropertySymbols,fe=ne?ne.isBuffer:void 0,ge=z(Object.keys,Object),de=xe(B,"DataView"),pe=xe(B,"Map"),me=xe(B,"Promise"),he=xe(B,"Set"),ve=xe(B,"WeakMap"),ye=xe(Object,"create"),be=qe(de),Le=qe(pe),we=qe(me),Se=qe(he),Ee=qe(ve),_e=oe?oe.prototype:void 0,Oe=_e?_e.valueOf:void 0;function Me(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ce(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Pe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Te(e){this.__data__=new Ce(e)}function je(e,t){var r=ze(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Je(e)}(e)&&ee.call(e,"callee")&&(!ce.call(e,"callee")||te.call(e)==i)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,o=!!n;for(var a in e)!t&&!ee.call(e,a)||o&&("length"==a||We(a,n))||r.push(a);return r}function Re(e,t,r){var n=e[t];ee.call(e,t)&&Ue(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function Ae(e,t){for(var r=e.length;r--;)if(Ue(e[r][0],t))return r;return-1}function Ge(e,t,r,n,o,d,y){var R;if(n&&(R=d?n(e,o,d,y):n(e)),void 0!==R)return R;if(!Ve(e))return e;var A=ze(e);if(A){if(R=function(e){var t=e.length,r=e.constructor(t);t&&"string"==typeof e[0]&&ee.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!t)return function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(e,R)}else{var I=He(e),F=I==c||I==u;if(Ke(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if(I==g||I==i||F&&!d){if(q(e))return d?e:{};if(R=function(e){return"function"!=typeof e.constructor||ke(e)?{}:(t=ae(e),Ve(t)?se(t):{});var t}(F?{}:e),!t)return function(e,t){return Be(e,De(e),t)}(e,function(e,t){return e&&Be(t,Ye(t),e)}(R,e))}else{if(!G[I])return d?e:{};R=function(e,t,r,n){var o=e.constructor;switch(t){case b:return Fe(e);case a:case s:return new o(+e);case L:return function(e,t){var r=t?Fe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case w:case S:case E:case _:case O:case M:case C:case P:case T:return function(e,t){var r=t?Fe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case l:return function(e,t,r){var n=t?r(U(e),!0):U(e);return k(n,H,new e.constructor)}(e,n,r);case f:case h:return new o(e);case p:return function(e){var t=new e.constructor(e.source,j.exec(e));return t.lastIndex=e.lastIndex,t}(e);case m:return function(e,t,r){var n=t?r(J(e),!0):J(e);return k(n,W,new e.constructor)}(e,n,r);case v:return i=e,Oe?Object(Oe.call(i)):{}}var i}(e,I,Ge,t)}}y||(y=new Te);var B=y.get(e);if(B)return B;if(y.set(e,R),!A)var N=r?function(e){return function(e,t,r){var n=t(e);return ze(e)?n:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(n,r(e))}(e,Ye,De)}(e):Ye(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););}(N||e,(function(o,i){N&&(o=e[i=o]),Re(R,i,Ge(o,t,r,n,i,e,y))})),R}function Ie(e){return!(!Ve(e)||(t=e,X&&X in t))&&($e(e)||q(e)?re:R).test(qe(e));var t}function Fe(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function Be(e,t,r,n){r||(r={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=n?n(r[a],e[a],a,r,e):void 0;Re(r,a,void 0===s?e[a]:s)}return r}function Ne(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function xe(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Ie(r)?r:void 0}Me.prototype.clear=function(){this.__data__=ye?ye(null):{}},Me.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Me.prototype.get=function(e){var t=this.__data__;if(ye){var r=t[e];return r===n?void 0:r}return ee.call(t,e)?t[e]:void 0},Me.prototype.has=function(e){var t=this.__data__;return ye?void 0!==t[e]:ee.call(t,e)},Me.prototype.set=function(e,t){return this.__data__[e]=ye&&void 0===t?n:t,this},Ce.prototype.clear=function(){this.__data__=[]},Ce.prototype.delete=function(e){var t=this.__data__,r=Ae(t,e);return!(r<0)&&(r==t.length-1?t.pop():ue.call(t,r,1),!0)},Ce.prototype.get=function(e){var t=this.__data__,r=Ae(t,e);return r<0?void 0:t[r][1]},Ce.prototype.has=function(e){return Ae(this.__data__,e)>-1},Ce.prototype.set=function(e,t){var r=this.__data__,n=Ae(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Pe.prototype.clear=function(){this.__data__={hash:new Me,map:new(pe||Ce),string:new Me}},Pe.prototype.delete=function(e){return Ne(this,e).delete(e)},Pe.prototype.get=function(e){return Ne(this,e).get(e)},Pe.prototype.has=function(e){return Ne(this,e).has(e)},Pe.prototype.set=function(e,t){return Ne(this,e).set(e,t),this},Te.prototype.clear=function(){this.__data__=new Ce},Te.prototype.delete=function(e){return this.__data__.delete(e)},Te.prototype.get=function(e){return this.__data__.get(e)},Te.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ce){var n=r.__data__;if(!pe||n.length<199)return n.push([e,t]),this;r=this.__data__=new Pe(n)}return r.set(e,t),this};var De=le?z(le,Object):function(){return[]},He=function(e){return te.call(e)};function We(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||A.test(e))&&e>-1&&e%1==0&&e<t}function ke(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Y)}function qe(e){if(null!=e){try{return Z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ue(e,t){return e===t||e!=e&&t!=t}(de&&He(new de(new ArrayBuffer(1)))!=L||pe&&He(new pe)!=l||me&&He(me.resolve())!=d||he&&He(new he)!=m||ve&&He(new ve)!=y)&&(He=function(e){var t=te.call(e),r=t==g?e.constructor:void 0,n=r?qe(r):void 0;if(n)switch(n){case be:return L;case Le:return l;case we:return d;case Se:return m;case Ee:return y}return t});var ze=Array.isArray;function Je(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}(e.length)&&!$e(e)}var Ke=fe||function(){return!1};function $e(e){var t=Ve(e)?te.call(e):"";return t==c||t==u}function Ve(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ye(e){return Je(e)?je(e):function(e){if(!ke(e))return ge(e);var t=[];for(var r in Object(e))ee.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}e.exports=function(e){return Ge(e,!0,!0)}},9088:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.LoggingRegistration=t.createLogManager=void 0;const i=r(7685),a=r(6578);o(r(503),t);var s=r(6578);Object.defineProperty(t,"createLogManager",{enumerable:!0,get:function(){return s.createLogManager}}),t.LoggingRegistration={create:(e,t,r)=>[{key:i.ILogFactoryKey,factory:n=>(0,a.createLogManager)(t,e,r)}]}},503:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogManager=t.ConfigBasedLoggingStrategy=void 0;var n=r(5479);Object.defineProperty(t,"ConfigBasedLoggingStrategy",{enumerable:!0,get:function(){return n.ConfigBasedLoggingStrategy}});var o=r(3619);Object.defineProperty(t,"LogManager",{enumerable:!0,get:function(){return o.LogManager}})},6578:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLogManager=t.LogManager=t.ConfigBasedLoggingStrategy=void 0;const n=r(5479),o=r(3619);var i=r(5479);Object.defineProperty(t,"ConfigBasedLoggingStrategy",{enumerable:!0,get:function(){return i.ConfigBasedLoggingStrategy}});var a=r(3619);Object.defineProperty(t,"LogManager",{enumerable:!0,get:function(){return a.LogManager}});t.createLogManager=(e,t,r)=>new o.LogManager(new n.ConfigBasedLoggingStrategy(e),t,r)},7921:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SupportedLogLevels=void 0,t.SupportedLogLevels=["error","warn","info","debug"]},5479:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigBasedLoggingStrategy=void 0;const n=r(7921);class o{static LOG_EVERYTHING_LOGGING_BEHAVIOUR={getLoggingLevel:()=>"debug"};config={};constructor(e){this.config=e??{}}canLog(e,t){return((e,t)=>{const r=e.getLoggingLevel();if("none"===r)return!1;const o=n.SupportedLogLevels.indexOf(r);return n.SupportedLogLevels.indexOf(t)<=o})(this.getLoggingBehaviour(e),t)}getLoggingBehaviour(e){const t=this.config[e];if(t)return{getLoggingLevel:()=>t.level};const r=this.config.default;return r?{getLoggingLevel:()=>r.level}:o.LOG_EVERYTHING_LOGGING_BEHAVIOUR}}t.ConfigBasedLoggingStrategy=o},5787:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DevLogger=void 0;class r{name;loggingStrategy;transport;formatter;error=this.log("error");warn=this.log("warn");info=this.log("info");debug=this.log("debug");constructor(e,t,r,n){this.name=e,this.loggingStrategy=t,this.transport=r,this.formatter=n}child(e){return new r(e,this.loggingStrategy,this.transport,this.formatter)}log(e){return(...t)=>{if(!this.loggingStrategy.canLog(this.name,e))return;const r={level:e,logger:this.name,args:t,context:void 0};this.transport.write(r,this.formatter)}}}t.DevLogger=r},2006:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GemLogger=void 0;const n=r(4899);class o{logContext;loggingStrategy;transport;formatter;error=this.log("error");warn=this.log("warn");info=this.log("info");debug=this.log("debug");constructor(e,t,r,n,o){this.logContext=t,this.loggingStrategy=r,this.transport=n,this.formatter=o,this.logContext.logger=e}child(e,t){const r=n.helpers.deepClone(this.logContext);return Object.assign(r,t),new o(e,r,this.loggingStrategy,this.transport,this.formatter)}log(e){return(...t)=>{const{logger:r,...n}=this.logContext;if(!this.loggingStrategy.canLog(r,e))return;const o={level:e,logger:r,args:t,context:n};this.transport.write(o,this.formatter)}}}t.GemLogger=o},3619:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogManager=void 0;const n=r(2006),o=r(497),i=r(5027),a=r(5479),s=r(5787);t.LogManager=class{loggingStrategy;defaultContext;createLoggerOptions;constructor(e,t,r){this.loggingStrategy=e??new a.ConfigBasedLoggingStrategy,this.defaultContext=t||{},this.createLoggerOptions=r}create(e,t){if(t=t||{},this.createLoggerOptions?.devMode){if(!this.createLoggerOptions?.transport)throw new Error("createLoggerOptions.transport must be provided when devMode = true");return((e,t,r)=>{const n=(0,i.combine)(i.UpperCaseLogLevelFormatter,i.Splatter);return new s.DevLogger(e,t,r,n)})(e,this.loggingStrategy,this.createLoggerOptions.transport)}return((e,t,r,o)=>{const a=(0,i.combine)(i.UpperCaseLogLevelFormatter,i.Splatter);return new n.GemLogger(e,t,r,o,a)})(e,{...this.defaultContext,...t},this.loggingStrategy,this.createLoggerOptions?.transport||new o.JsonConsoleTransport)}}},5027:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combine=t.Splatter=t.UpperCaseLogLevelFormatter=void 0;var n=r(346);Object.defineProperty(t,"UpperCaseLogLevelFormatter",{enumerable:!0,get:function(){return n.UpperCaseLogLevelFormatter}});var o=r(5227);Object.defineProperty(t,"Splatter",{enumerable:!0,get:function(){return o.Splatter}});t.combine=(...e)=>({format(t){let r=t;return e.forEach((e=>r=e.format(r))),r}})},5227:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Splatter=void 0;const n=r(4899);t.Splatter={format(e){if(!e.args)throw new Error("Meta property is required for splatting formatter");if(!Array.isArray(e.args))throw new Error("Meta property must be an array for the splatting formatter");const t=e,r=t.args.filter((e=>n.helpers.isPremitiveType(e))).map((e=>void 0===e?"undefined":null===e?"null":"symbol"==typeof e?e.toString():e)),o=r.length>0,i=o?r.join(" "):t.args[0],a=o?t.args:t.args.slice(1),s={...t.context};let c=a?.length??0;for(;--c>=0;){const e=a[c];n.helpers.isSimpleObject(e)&&Object.assign(s,e)}return{...s,message:i,logger:t.logger,level:t.level}}}},346:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpperCaseLogLevelFormatter=void 0,t.UpperCaseLogLevelFormatter={format:e=>(e.level=e.level.toUpperCase(),e)}},4899:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.helpers=void 0;const o=new Set(["string","number","bigint","boolean","null","undefined","symbol"]),i=n(r(3465)),a=e=>e instanceof Date,s=e=>null==e||void 0===e;t.helpers={isPremitiveType:e=>s(e)||o.has(typeof e)||a(e),isSimpleObject:e=>!s(e)&&"object"==typeof e&&!a(e),deepClone:i.default}},497:function(e,t,r){"use strict";var n=r(5108),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonConsoleTransport=void 0;const i=o(r(4445));t.JsonConsoleTransport=class{write(e,t){const r=t.format(e);n.log(function(e){function t(e,t){if(t instanceof Error){const e={};return Object.getOwnPropertyNames(t).forEach((r=>{e[r]=t[r]})),e}return t}try{return JSON.stringify(e,t)}catch(r){return(0,i.default)(e,t)}}(r))}}}}]);