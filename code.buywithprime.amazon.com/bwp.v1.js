/*! For license information please see bwp.v1.js.LICENSE.txt */
!function(){var e={34:function(e,t,n){var o,i,r;r=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(o){function i(){}function r(t,n,r){if("undefined"!=typeof document){"number"==typeof(r=e({path:"/"},i.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=o.write?o.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var d="";for(var s in r)r[s]&&(d+="; "+s,!0!==r[s]&&(d+="="+r[s].split(";")[0]));return document.cookie=t+"="+n+d}}function a(e,n){if("undefined"!=typeof document){for(var i={},r=document.cookie?document.cookie.split("; "):[],a=0;a<r.length;a++){var d=r[a].split("="),s=d.slice(1).join("=");n||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var c=t(d[0]);if(s=(o.read||o)(s,c)||t(s),n)try{s=JSON.parse(s)}catch(e){}if(i[c]=s,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=r,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){r(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))},void 0===(i="function"==typeof(o=r)?o.call(t,n,t,e):o)||(e.exports=i),e.exports=r()}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";const e="https://",t=(e,t="190px")=>{const n=document.getElementById(e);n&&r(n,{maxWidth:"940px",height:t})},o=e=>{const t=document.getElementById(e);if(!t)throw new Error("bwp widget has not been created yet");return t},i=(t,n)=>{var i;const r=o(t),a=r.src.split(e);if(2===a.length){const t=a[1].split("/")[0];null===(i=r.contentWindow)||void 0===i||i.postMessage(n,e+t)}},r=(e,t)=>{Object.entries(t).forEach((([t,n])=>{e.style[t]=n}))},a="https://order.buywithprime.amazon.com",d="https://joey.gamma.tk.dubai.aws.dev",s="https://joey.beta.tk.dubai.aws.dev",c="code.buywithprime.amazon.com",l="bootstrap.prod.scoville.dubai.aws.dev",u="bootstrap.gamma.scoville.dubai.aws.dev",m="bootstrap.beta.scoville.dubai.aws.dev",p=[a,d,s],v=()=>{var e;const t=document.currentScript;return null===(e=null==t?void 0:t.src)||void 0===e?void 0:e.split("/")[2]},w=u===v(),g=(e=>{if(!e)return a;switch(e){case c:case l:return a;case u:return d;case m:return s;default:return a}})(v()),f=(e=>{if(!e)return a;switch(e){case c:case l:case u:return a;case m:return s;default:return a}})(v());var y;!function(e){e.AddToCart="ADD-TO-CART"}(y||(y={}));const h="bwpFrame",b="amzn-buy-now",E="bwpDialog",I="amzn-bwp-cart",S=(e,t)=>{var n;null===(n=t.parentNode)||void 0===n||n.insertBefore(e,t.nextSibling)},O="widgets-v-buyability",_=(e,t,n,o,i=!1,r=1)=>{const a=new Set(["access_token"]),s=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}(o,[]);a.forEach((e=>delete s[e]));const c=((e,t)=>((e,t)=>`${g}/${e}/${O}/${t}`)(e,t))(t,n),l=c.includes(d)&&c.includes(O),u=`${c}?${(e=>{var t="marketing_ets_ga";return((e,t)=>{const n=[];return document.cookie.split("; ").forEach((o=>{const i=o.indexOf("="),r=o.slice(0,i),a=o.slice(i+1);e.includes(r)?n.push(`${r},${a}`):t.forEach((e=>{r.startsWith(e)&&n.push(`${r},${a}`)}))})),n})(["_ga"],["_ga_"]).forEach((e=>{t=t+","+e})),"marketing_ets_ga"!==t&&e.append("marketingRefs",t),e})(new URLSearchParams(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},s),{productUrl:(e=>{if(void 0===e)return;const t=new URL(e),n=t.searchParams;return a.forEach((e=>n.delete(e))),t.search=n.toString(),t.toString().replace(/\/$/,"")})(window.location.href)}),document.referrer&&{referrer_domain:document.referrer}),i&&{addToCart:"true"}),l&&{oagid:"5BxYQVlPVti7",oaid:"AWBkE9IBtkkG"}))).toString()}#${new URLSearchParams({quantity:r.toString()})}`;return e.src=u,u},D=()=>{var e,t;const n=document.getElementById(b),o=document.getElementById(I),i=null===o?n:o;if(null===i)return{};let r;null!=n&&(r=(e=>e.bwpPrimaryId?e.bwpPrimaryId:e.sku)(null!==(e=n.dataset)&&void 0!==e?e:{}));const a=null!==(t=i.dataset)&&void 0!==t?t:{};return{siteId:a.siteId,widgetId:a.widgetId,sku:r}},B=(e,t)=>{const n=document.createElement("iframe");return n.id=e,n.loading="lazy",r(n,{position:"fixed",inset:"0",zIndex:"99999",width:"100%",height:"100%",border:"none"}),n.style.display="none",document.body.appendChild(n),n.src=t,n},T=e=>{const t=document.getElementById(e);t&&t.parentNode&&t.parentNode.removeChild(t)},A=()=>{var e;return(null===(e=window.performance.timing)||void 0===e?void 0:e.navigationStart)||window.performance.timeOrigin},L=()=>A()+performance.now(),$=(e,t=document.body||document.documentElement)=>new Promise((n=>{const o=document.querySelector(e);if(o)return n({element:o,timestamp:L()});const i=new MutationObserver((t=>{const o=document.querySelector(e);o&&(n({element:o,timestamp:L()}),i.disconnect())}));i.observe(t,{childList:!0,subtree:!0})})),k="bwpDebugModeDialog",P=document.getElementById("amzn-buy-now"),C=(e,n,o,i=!1)=>{var r;const a=document.getElementById(n);if(p.includes(e.origin))if("BWP_WIDGET_DOM_LOADED_PRIME_ELIGIBLE"!==e.data){if("BWP_WIDGET_DOM_LOADED_DEBUG_MODE"===e.data)return t(n),void(null===(r=document.getElementById(n))||void 0===r||r.setAttribute("debug-mode","true"));switch(e.data.messageType){case"BWP_WIDGET_DOM_LOADED":if(!a){console.error("BWP Widget Not Found",e.data.messageType,{event:e});break}a.classList.add("bwp-widget-loaded"),i&&(null==P||P.dispatchEvent(new Event("BWP-WIDGET-LOADED")));break;case"BWP_WIDGET_DOM_NOT_LOADED":if(!a){console.error("BWP Widget Not Found",e.data.messageType,{event:e});break}a.classList.remove("bwp-widget-loaded"),i&&(null==P||P.dispatchEvent(new Event("BWP-WIDGET-NOT-ELIGIBLE")));break;case"widget_height":t(n,`${e.data.height}px`),a&&0===e.data.height?a.classList.remove("bwp-widget-loaded"):a&&e.data.height>0&&a.classList.add("bwp-widget-loaded");break;case"show_dialog":!function(e,t){let n=document.getElementById(E);n||(n=B(E,((e,t="light")=>`${g}/${e}/bwp-info?${new URLSearchParams({mode:t})}`)(e,t))),n.style.display="block",document.body.style.overflow="hidden"}(o,e.data.colorScheme);break;case"hide_dialog":!function(){const e=document.getElementById(E);e&&(e.style.display="none",document.body.style.overflow="",T(E))}();break;case"show_debug_mode_dialog":!function(e,t){let n=document.getElementById(k);n||(n=B(k,((e,t)=>`${g}/${e}/bwp-info?${new URLSearchParams({debugMode:"true",mode:t})}`)(e,t))),n.style.display="block",document.body.style.overflow="hidden"}(o,e.data.colorScheme);break;case"hide_debug_mode_dialog":!function(){const e=document.getElementById(k);e&&(e.style.display="none",document.body.style.overflow="",T(k))}();break;case"ADD_TO_CART":(e=>{null!=document.getElementById(I)&&(window.dispatchEvent(new CustomEvent("bwp-add-to-cart",{detail:{itemId:e.data.productId,quantity:e.data.quantity,componentItemListJson:e.data.componentProductList}})),((e,t)=>{var n;let o;t.name===y.AddToCart&&(o={name:t.name,readOnly:null===(n=t.readOnly)||void 0===n||n,userAction:t.userAction,itemId:e.data.productId,quantity:e.data.quantity}),o&&window.dispatchEvent(new CustomEvent("AMAZON-SHOPPER-EVENTS",{detail:o}))})(e,{name:y.AddToCart,userAction:"click"}))})(e);break;case"BWP_EVENT_BUS_LOADED":window.dispatchEvent(new CustomEvent("BWP_EVENT_BUS_LOADED",{detail:{ubid:e.data.ubid}}));break;case"BWP_WIDGET_QUANTITY_UPDATED":window.bwp.quantity=e.data.quantity}}else t(n)},x=(e,t,n)=>{n(e,{message:"WIDGET_VISIBILTIY_TIMING",timing:t})};var W,R=n(34),N=n.n(R),j=new Uint8Array(16);function z(){if(!W&&!(W="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return W(j)}for(var U=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,q=function(e){return"string"==typeof e&&U.test(e)},M=[],V=0;V<256;++V)M.push((V+256).toString(16).substr(1));var G=function(e,t,n){var o=(e=e||{}).random||(e.rng||z)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=o[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(M[e[t+0]]+M[e[t+1]]+M[e[t+2]]+M[e[t+3]]+"-"+M[e[t+4]]+M[e[t+5]]+"-"+M[e[t+6]]+M[e[t+7]]+"-"+M[e[t+8]]+M[e[t+9]]+"-"+M[e[t+10]]+M[e[t+11]]+M[e[t+12]]+M[e[t+13]]+M[e[t+14]]+M[e[t+15]]).toLowerCase();if(!q(n))throw TypeError("Stringified UUID is invalid");return n}(o)};const F="ubid_ovr",H=365;function J(){try{return N().get(F)||(N().set(F,G(),{expires:H,secure:"https:"===window.location.protocol}),N().get(F))}catch(e){return e instanceof Error||(e=new Error(`${e}`)),console.error(e),void Y(e,"ubidOvrCookieError","getOrSetUbidOverrideCookie")}}const Y=(e,t,n)=>{document.getElementById(h)&&i(h,{message:"SEND_COUNT_METRIC",metricData:[t,"global.dataStatus",1,{Name:e.name||"Error",Cause:e.message,Operation:n}]})},Q="rating",K="rating-shopify",Z="roaRatingIframe",X="reviews",ee="reviews-shopify",te="roaReviewsIframe",ne="https://code.buywithprime.amazon.com/default.variant.selector.shopify.js",oe="https://roa.buywithprime.amazon.com/static/default.variant.selector.shopify.js",ie="https://code.buywithprime.amazon.com/default.variant.selector.bigcommerce.js",re="https://roa.buywithprime.amazon.com/static/default.variant.selector.bigcommerce.js",ae={rating:{shopify:"https://cdn.elements.amazon/elements/amazon-product-rating/v1.0/web-component.shopify.js",bigcommerce:"https://cdn.elements.amazon/elements/amazon-product-rating/v1.0/web-component.bigcommerce.js",default:"https://cdn.elements.amazon/elements/amazon-product-rating/v1.0/web-component.js"},reviews:{shopify:"https://cdn.elements.amazon/elements/amazon-product-reviews/v1.0/web-component.shopify.js",bigcommerce:"https://cdn.elements.amazon/elements/amazon-product-reviews/v1.0/web-component.bigcommerce.js",default:"https://cdn.elements.amazon/elements/amazon-product-reviews/v1.0/web-component.js"}},de={maxWidth:"0%",maxHeight:"0px",height:"0px",border:"none",width:"100%",visibility:"hidden"},se=e=>Object.assign({maxWidth:"100%",maxHeight:"100%",visibility:"visible"},(e=>e===Q||e===K)(e)?{height:"25px",overflow:"hidden"}:{}),ce={maxWidth:"0%",maxHeight:"0px",height:"0px",visibility:"hidden"},le={divId:"amzn-roa-rating",shopifyDivId:"amzn-roa-rating-shopify",divStyle:{display:"none"},iframeId:Z,iframeTitle:"Review Off Amazon Rating",endpointName:"roa-rating",initialStyle:de,visibleStyles:se(Q),invisibleStyles:ce},ue={divId:"amzn-roa-reviews",shopifyDivId:"amzn-roa-reviews-shopify",divStyle:{display:"none"},iframeId:te,iframeTitle:"Review Off Amazon Reviews",endpointName:"roa-reviews",initialStyle:de,visibleStyles:se(X),invisibleStyles:ce},me={divId:"amzn-roa-rating-shopify",divStyle:{display:"none"},iframeId:Z,iframeTitle:"Review Off Amazon Rating",endpointName:"roa-rating",initialStyle:de,visibleStyles:se(K),invisibleStyles:ce},pe={divId:"amzn-roa-reviews-shopify",divStyle:{display:"none"},iframeId:te,iframeTitle:"Review Off Amazon Reviews",endpointName:"roa-reviews",initialStyle:de,visibleStyles:se(ee),invisibleStyles:ce},ve=new Map([[Q,le],[K,me],[X,ue],[ee,pe]]),we=(e,t,n=document.body)=>new Promise((o=>{const i=document.querySelector(`#${t}`),r=document.querySelector(`#${e}`);if(null!==i||null!==r)return o({element:i,shopifyElement:r,timestamp:L()});const a=new MutationObserver((n=>{const i=document.querySelector(`#${t}`),r=document.querySelector(`#${e}`);null===i&&null===r||(o({element:i,shopifyElement:r,timestamp:L()}),a.disconnect())}));a.observe(n,{childList:!0,subtree:!0}),document.onreadystatechange=()=>{"complete"===document.readyState&&a.disconnect()}})),ge=e=>{return(t=ve.get(e)).shopifyDivId&&document.getElementById(t.shopifyDivId)?document.getElementById(t.shopifyDivId):document.getElementById(t.divId);var t},fe=e=>{let t=document.querySelector(e);for(;t;)t.remove(),t=document.querySelector(e)},ye=(e,t)=>{let n=document.getElementById(e);const o=t===Q?"amazon-product-rating":"amazon-product-reviews";for(;n;){const{sku:t}=n.dataset,i=document.createElement(o);i.setAttribute("product-sku",t),S(i,n),n.remove(),n=document.getElementById(e)}for(n=ge(t);n;)n.remove(),n=ge(t)};function he(e,t,n){e&&t&&n&&fe(`script[src='${e}']`)}const be=(e,t,n)=>{var o;const i=ne,r=oe,a=ie,d=re,s=document.querySelector(`script[src='${i}']`),c=document.querySelector(`script[src='${r}']`),l=document.querySelector(`script[src='${a}']`),u=document.querySelector(`script[src='${d}']`);he(i,s,!1),he(r,c,!0),he(a,l,!1),he(d,u,!0);const m=ae[e][s||c?"shopify":l||u?"bigcommerce":"default"];if(!document.querySelector(`script[src='${m}']`)&&("rating"===e?t:n)){const e=document.createElement("script");e.src=m,e.type="module",e.defer=!0;const i=null==t?void 0:t.dataset,{siteId:r,targetId:a}=null!==(o=null!=i?i:null==n?void 0:n.dataset)&&void 0!==o?o:{};(r||a)&&(e.dataset.targetId=a||`siteId:${r}`,document.head.appendChild(e))}},Ee=()=>{(()=>{document.querySelector("script[src='https://cdn.us-east-1.prod.moon.dubai.aws.dev/JG8MG9JQEE5V/j98LjnY987KW/latest/scripts/elements.js']");const e=ge(Q),t=ge(X);be("rating",e,t),be("reviews",e,t),e&&ye(e.id,Q),t&&ye(t.id,X)})()},Ie=(e,t,n)=>{const o=ve.get(n),i=document.getElementById(o.iframeId),{siteId:r}=(e=>{var t;const n=document.getElementById(e);return null!==(t=null==n?void 0:n.dataset)&&void 0!==t?t:{}})(o.divId);if(i&&r==e){const e=i.src?Object.fromEntries(new URL(i.src).searchParams.entries()):{};((e,t,n,o,i)=>{e.remove(),((e,t,n,o)=>{e.src=`${((e,t)=>`${g}/${e}/${t}`)(t,o)}?${new URLSearchParams(n)}`})(e,t,n,o);const r=ve.get(i),a=document.getElementById(r.divId);a&&S(e,a)})(i,r,Object.assign(Object.assign({},e),{sku:t}),o.endpointName,n)}},Se=e=>{const t=ve.get(e),n=document.getElementById(t.iframeId);n&&((e,t)=>{r(e,t)})(n,t.initialStyle)},Oe=()=>!!document.getElementById("amzn-rfa-script");class _e{constructor(){const{sku:e}=D();this.sku=e,this.quantity=1}updateWidget(e,t=1,n=[],o){if(t=Number(t),"string"!=typeof e)throw new Error("sku must be a string");if(!Number.isInteger(t)||t<1)throw new Error("quantity must be a positive number");const{siteId:r,widgetId:a}=(()=>{var e;const t=document.getElementById(b);return null!==(e=null==t?void 0:t.dataset)&&void 0!==e?e:{}})();if(void 0===r||void 0===a)throw new Error("invalid code snippet");e===this.sku&&t===this.quantity&&void 0===o||(t!==this.quantity&&i(h,{message:"UPDATE_QUANTITY",quantity:t}),e!==this.sku&&(Oe()||(Se(Q),Se(X),Se(K),Se(ee)),i(h,{message:"UPDATE_SKU_NEW_PROMISE",sku:e})),void 0!==o&&i(h,{message:"UPDATE_VARIATION_ID",variationId:o}),((e,t)=>{Oe()||(Ie(e,t,Q),Ie(e,t,X),Ie(e,t,K),Ie(e,t,ee))})(r,e),this.sku=e)}disableWidget(){i(h,{message:"DISABLE_BWP_WIDGET"})}enableCart(e){i(h,{message:"ENABLE_CART",variationId:e||""})}}const De=(()=>{D();const e=new _e;return()=>e})();const Be=(e,t)=>{return n=void 0,o=void 0,r=function*(){const n=yield fetch(((e,t)=>`${f}/${e}/widget-cart/${t}${w?`?${new URLSearchParams({oagid:"5BxYQVlPVti7",oaid:"AWBkE9IBtkkG"}).toString()}`:""}`)(e,t));return yield n.text()},new((i=void 0)||(i=Promise))((function(e,t){function a(e){try{s(r.next(e))}catch(e){t(e)}}function d(e){try{s(r.throw(e))}catch(e){t(e)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,d)}s((r=r.apply(n,o||[])).next())}));var n,o,i,r},Te="vwo_bwp_var_id",Ae=()=>{try{const e=localStorage.getItem(Te);if(e){const t=e.split("_");if(2===t.length){const e=new Date(t[1]);console.debug(`Variation expiration date: <${e}>`);const n=new Date;if(n.setDate(n.getDate()-1),console.debug(`1 days ago: <${n}>`),e>n)return t[0]}}return null}catch(e){return console.error("Could not parse variation ID cache."),null}},Le=e=>{const t=new Date;localStorage.setItem(Te,`${e}_${t.toDateString()}`)};let $e=!1;const ke=()=>$e;let Pe=!1;const Ce=e=>{const t=document.getElementById(b),n=null!=t,{siteId:a,widgetId:d,sku:s}=D();if(n&&a&&d&&!document.getElementById(h)){const n=document.createElement("iframe");n.id=h,n.title="Buy With Prime",n.referrerPolicy="strict-origin-when-cross-origin",n.loading="eager",n.fetchPriority="high",n.setAttribute("allow","clipboard-write"),(()=>{const e=ve.get(Q).divId,t=ve.get(X).divId,n=ve.get(K).divId,o=ve.get(ee).divId;we(n,e).then((e=>{Ee()})),we(o,t).then((e=>{Ee()}))})(),(e=>{r(e,{maxWidth:"0",height:"0px",border:"none",width:"100%"})})(n);const c=Object.fromEntries(new URLSearchParams(window.location.search).entries());e&&window.addEventListener("message",(e=>C(e,h,a)));const l=J();l&&(c[F]=l),S(n,t),n.addEventListener("load",(()=>{$e=!0}),{once:!0});const u=document.getElementById(I);Pe=null!=u;const m=Ae();m&&(c.variationId=m);const p=e=>{_(n,a,d,Object.assign(Object.assign({},c),{sku:e}),Pe),(e=>{var t,n,r;if(window.ShopifyAnalytics){const a=null===(r=null===(n=null===(t=window.ShopifyAnalytics.meta.product.variants)||void 0===t?void 0:t.find((t=>t.sku===e)))||void 0===n?void 0:n.price)||void 0===r?void 0:r.toString();if(a){const e=o(h);null==e||e.addEventListener("load",(()=>{i(h,{message:"LOG_PDP_PRICE",price:a})}),{once:!0})}}})(e)};if(p(s),!s){const e={attributes:!0,childList:!1,subtree:!1},n=(e,t)=>{const{siteId:n,widgetId:o,sku:i}=D();i&&n&&o&&(window.bwp.updateWidget(i),t.disconnect())};new MutationObserver(n).observe(t,e)}e&&((e=null)=>{const t=(e=>{var t,n;const o=null===(n=null===(t=null==e?void 0:e.parentElement)||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.querySelector('script[src*="bwp."]'),i=(null==o?void 0:o.hasAttribute("async"))&&"async",r=(null==o?void 0:o.hasAttribute("defer"))&&"defer";return i||r||"not available"})(e);window.addEventListener("load",(()=>{((e,t)=>{const n=window.location.href,o=(()=>{const e=A();let t;const[n]=window.performance.getEntriesByType("navigation");return n&&(t=e+n.responseEnd),{timingStart:e,timingResponseEnd:t}})();i(h,Object.assign({message:"LOG_METRIC",pageType:"third-party-pdp",url:n,widgetVersion:t,pageLoad:e},o))})(Date.now(),t)}))})(t),((e,t,n)=>{const o=e.id;let i=!1;const r=new IntersectionObserver((a=>{if(!1===a[0].isIntersecting)return;let d;window.performance.now(),d=i?a[0].time:0,t()?x(o,d,n):e.addEventListener("load",(()=>x(o,d,n)),{once:!0}),r.disconnect()}),{threshold:[.5]}),a=e=>{var t;i=!0,null===(t=e.target)||void 0===t||t.removeEventListener("scroll",a)};window.addEventListener("scroll",a),r.observe(e)})(n,ke,i);const v=(e,t)=>{for(const n of e){const[e]=Array.from(n.removedNodes).filter((e=>e.id===h));e&&(t.disconnect(),$e=!1,setTimeout((()=>Ce(!1)),50))}};t.parentElement&&new MutationObserver(v).observe(t.parentElement,{attributes:!1,childList:!0,subtree:!1})}},xe=()=>{$(`#${b}`).then((()=>Ce(!0))),$(`#${I}`).then((()=>(()=>{const{siteId:e,widgetId:t}=D();e&&t&&(J(),Pe||$(`#${h}`).then((()=>{const e=setInterval((()=>{if(ke()){if(!Pe){const e=Ae();window.bwp.enableCart(e),Pe=!0}clearTimeout(e)}}),100);setTimeout((()=>clearTimeout(e)),2e3)})),Be(e,t).then((e=>{((e,t)=>{const n=document.createElement("div");e.append(n),n.innerHTML=t,Array.from(n.querySelectorAll("script")).forEach((e=>{const t=document.createElement("script");Array.from(e.attributes).forEach((e=>{t.setAttribute(e.name,e.value)}));const n=document.createTextNode(e.innerHTML);t.appendChild(n),e&&e.parentNode&&e.parentNode.replaceChild(t,e)}))})(document.body,e)})))})())),window.bwp=De(),window.updateWidgetForSelection=(e,t=1,n=[])=>{window.bwp.updateWidget(e,t,[])},(e=>{window.VWO=window.VWO||[],window.VWO.push(["onVariationApplied",function(t){((e,t)=>{if(!t)return;const n=t[1],o=t[2];-1!==window._vwo_exp[n].name.indexOf("BwP Add to Cart")&&(console.debug("Experiment ID: "+n+"; variation ID: "+o+";"),Ae()!==o&&(Le(o),$(`#${h}`).then((()=>{const t=setInterval((()=>{if(e()){const{sku:e}=D();e&&window.bwp.updateWidget(e,1,[],o),clearTimeout(t)}}),100)}))),$(`#${I}`).then((()=>{const e=document.getElementById(I);e&&(e.dataset.experimentId=n,e.dataset.variationId=o)})))})(e,t)}]),window.addEventListener("BWP_EVENT_BUS_LOADED",(e=>{if(!("detail"in e))return;const t=e.detail.ubid||J();t?window.VWO.push(["tag","amazonUniqueId",t,"user"]):document.getElementById(h)&&i(h,{message:"SEND_COUNT_METRIC",metricData:["vwoMissingUbid","global.dataStatus",1,{Name:"Problem",Cause:"Missing ubidOverrideCookieValue",Operation:"onVariationApplied"}]})}),{once:!0})})(ke)};(()=>{const e=`${window.location}`,t=void 0===window.bwpCartScriptLoadedOn,n=!t&&window.bwpCartScriptLoadedOn!==e;if(window.bwpCartScriptLoadedOn=e,t)return o=history.pushState,i=history.replaceState,history.pushState=function(){o.apply(history,arguments),window.dispatchEvent(new Event("locationchange"))},history.replaceState=function(){i.apply(history,arguments),window.dispatchEvent(new Event("locationchange"))},window.addEventListener("popstate",(function(){window.dispatchEvent(new Event("locationchange"))})),window.addEventListener("locationchange",(()=>{window.bwpCartScriptLoadedOn=void 0})),void xe();var o,i;n&&Ce(!1)})()}()}();